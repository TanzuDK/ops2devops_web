<!doctype html><html><head><title>Ops2Devops Workshop documentation</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=revised content="2022-04-12T07:18:11 UTC"><title>07 Deploy first K8S app :: Ops2Devops Workshop documentation</title><link rel="shortcut icon" href=/ops2devops.tanzu.dk/images/favicon.png type=image/x-icon><link href=/ops2devops.tanzu.dk/css/nucleus.css rel=stylesheet><link href=/ops2devops.tanzu.dk/css/font-awesome.min.css rel=stylesheet><link href=/ops2devops.tanzu.dk/css/featherlight.min.css rel=stylesheet><link href=/ops2devops.tanzu.dk/css/auto-complete.css rel=stylesheet><link href=/ops2devops.tanzu.dk/theme-flex/style.css rel=stylesheet><link rel=stylesheet href=/ops2devops.tanzu.dk/css/bootstrap.min.css><meta name=description content></head><body data-url=ops2devops.tanzu.dk/4.k8s/7/><header><div class=logo><p>Tanzu.dk Ops2DevOps Workshop</p></div><div class=burger><a href=javascript:void(0); style=font-size:15px>&#9776;</a></div><nav class=shortcuts><li role><a href=https://github.com/TanzuDK/ops2devops rel=noopener><i class="fa fa-github"></i> <label>Github Repo</label></a></li><li role><a href=https://github.com/vjeantet/hugo-theme-docdock/archive/master.zip rel=noopener><i class="fa fa-cloud-download"></i> <label>Download</label></a></li><li role><a href=https://gohugo.io/ rel=noopener><i class="fa fa-bookmark"></i> <label>Hugo Documentation</label></a></li><li role><a href=ops2devops.tanzu.dk/credits rel=noopener><i class="fa fa-bullhorn"></i> <label>Credits</label></a></li></nav></header><article><aside><ul class=menu><li data-nav-id=/ops2devops.tanzu.dk/ class=dd-item><a href=/ops2devops.tanzu.dk/><i class="fa fa-fw fa-home"></i></a></li><li data-nav-id=ops2devops.tanzu.dk/1.connect/ class="dd-item haschildren"><div><a href=ops2devops.tanzu.dk/1.connect/>1. Connect</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i></div><ul><li data-nav-id=ops2devops.tanzu.dk/1.connect/1/ class=dd-item><div><a href=ops2devops.tanzu.dk/1.connect/1/>01 Ipadresses
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/1.connect/2/ class=dd-item><div><a href=ops2devops.tanzu.dk/1.connect/2/>02 Connect to environment
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/1.connect/3/ class=dd-item><div><a href=ops2devops.tanzu.dk/1.connect/3/>03 Understand VScode
</a><i class="fa fa-circle-thin read-icon"></i></div></li></ul></li><li data-nav-id=ops2devops.tanzu.dk/2.git/ class="dd-item haschildren"><div><a href=ops2devops.tanzu.dk/2.git/>2. Git</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i></div><ul><li data-nav-id=ops2devops.tanzu.dk/2.git/1/ class=dd-item><div><a href=ops2devops.tanzu.dk/2.git/1/>01 Configure Git
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/2.git/2/ class=dd-item><div><a href=ops2devops.tanzu.dk/2.git/2/>02 Create first Git Repository
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/2.git/3/ class=dd-item><div><a href=ops2devops.tanzu.dk/2.git/3/>03 Create first Git Changes (CLI)
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/2.git/4/ class=dd-item><div><a href=ops2devops.tanzu.dk/2.git/4/>04 Create first Git Changes (GUI)
</a><i class="fa fa-circle-thin read-icon"></i></div></li></ul></li><li data-nav-id=ops2devops.tanzu.dk/3.docker/ class="dd-item haschildren"><div><a href=ops2devops.tanzu.dk/3.docker/>3. Docker</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i></div><ul><li data-nav-id=ops2devops.tanzu.dk/3.docker/1/ class=dd-item><div><a href=ops2devops.tanzu.dk/3.docker/1/>01 Docker Hub
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/3.docker/2/ class=dd-item><div><a href=ops2devops.tanzu.dk/3.docker/2/>02 Dockerfile
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/3.docker/3/ class=dd-item><div><a href=ops2devops.tanzu.dk/3.docker/3/>03 Build Container
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/3.docker/4/ class=dd-item><div><a href=ops2devops.tanzu.dk/3.docker/4/>04 Run Container
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/3.docker/5/ class=dd-item><div><a href=ops2devops.tanzu.dk/3.docker/5/>05 Make Changes
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/3.docker/6/ class=dd-item><div><a href=ops2devops.tanzu.dk/3.docker/6/>06 See different images
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/3.docker/7/ class=dd-item><div><a href=ops2devops.tanzu.dk/3.docker/7/>07 Docker-Compose
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/3.docker/8/ class=dd-item><div><a href=ops2devops.tanzu.dk/3.docker/8/>08 Run as deamon
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/3.docker/9/ class=dd-item><div><a href=ops2devops.tanzu.dk/3.docker/9/>09 Trubleshoot running container
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/3.docker/10/ class=dd-item><div><a href=ops2devops.tanzu.dk/3.docker/10/>10 Cleanup
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/3.docker/11/ class=dd-item><div><a href=ops2devops.tanzu.dk/3.docker/11/>11 Advanced Docker-Compose
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/3.docker/12/ class=dd-item><div><a href=ops2devops.tanzu.dk/3.docker/12/>12 Data / Volumes
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/3.docker/13/ class=dd-item><div><a href=ops2devops.tanzu.dk/3.docker/13/>13 Examine content of a volume
</a><i class="fa fa-circle-thin read-icon"></i></div></li></ul></li><li data-nav-id=ops2devops.tanzu.dk/4.k8s/ class="dd-item haschildren"><div><a href=ops2devops.tanzu.dk/4.k8s/>4. Kubernetes</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i></div><ul><li data-nav-id=ops2devops.tanzu.dk/4.k8s/1/ class=dd-item><div><a href=ops2devops.tanzu.dk/4.k8s/1/>01 Setup Kubeconfig
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/4.k8s/2/ class=dd-item><div><a href=ops2devops.tanzu.dk/4.k8s/2/>02 Kubectl
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/4.k8s/3/ class=dd-item><div><a href=ops2devops.tanzu.dk/4.k8s/3/>03 Test connection
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/4.k8s/4/ class=dd-item><div><a href=ops2devops.tanzu.dk/4.k8s/4/>04 Create Namespace
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/4.k8s/5/ class=dd-item><div><a href=ops2devops.tanzu.dk/4.k8s/5/>05 Deployment.yml
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/4.k8s/6/ class=dd-item><div><a href=ops2devops.tanzu.dk/4.k8s/6/>06 Github Packages
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/4.k8s/7/ class=dd-item><div><a href=ops2devops.tanzu.dk/4.k8s/7/>07 Deploy first K8S app
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/4.k8s/8/ class=dd-item><div><a href=ops2devops.tanzu.dk/4.k8s/8/>08 Enhance deployment.yaml
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/4.k8s/9/ class=dd-item><div><a href=ops2devops.tanzu.dk/4.k8s/9/>09 Verify deployments / Pods
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/4.k8s/10/ class=dd-item><div><a href=ops2devops.tanzu.dk/4.k8s/10/>10 Add service
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/4.k8s/11/ class=dd-item><div><a href=ops2devops.tanzu.dk/4.k8s/11/>11 Deploy with Service
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/4.k8s/12/ class=dd-item><div><a href=ops2devops.tanzu.dk/4.k8s/12/>12 Cleanup
</a><i class="fa fa-circle-thin read-icon"></i></div></li></ul></li><li data-nav-id=ops2devops.tanzu.dk/5.cicd/ class="dd-item haschildren"><div><a href=ops2devops.tanzu.dk/5.cicd/>5. CI/CD</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i></div><ul><li data-nav-id=ops2devops.tanzu.dk/5.cicd/1/ class=dd-item><div><a href=ops2devops.tanzu.dk/5.cicd/1/>01 Actions file
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/5.cicd/2/ class=dd-item><div><a href=ops2devops.tanzu.dk/5.cicd/2/>02 Copy actions file
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/5.cicd/3/ class=dd-item><div><a href=ops2devops.tanzu.dk/5.cicd/3/>03 See running action
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/5.cicd/4/ class=dd-item><div><a href=ops2devops.tanzu.dk/5.cicd/4/>04 Discuss Action concepts
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/5.cicd/5/ class=dd-item><div><a href=ops2devops.tanzu.dk/5.cicd/5/>05 Trigger build
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/5.cicd/6/ class=dd-item><div><a href=ops2devops.tanzu.dk/5.cicd/6/>06 Prepare Kubeconfig file for CI/CD
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/5.cicd/7/ class=dd-item><div><a href=ops2devops.tanzu.dk/5.cicd/7/>07 Github Secrets
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/5.cicd/8/ class=dd-item><div><a href=ops2devops.tanzu.dk/5.cicd/8/>08 Change deployment.yml
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/5.cicd/9/ class=dd-item><div><a href=ops2devops.tanzu.dk/5.cicd/9/>09 K8S Deployment Action
</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=ops2devops.tanzu.dk/5.cicd/10/ class=dd-item><div><a href=ops2devops.tanzu.dk/5.cicd/10/>10 Activate Deployment Action
</a><i class="fa fa-circle-thin read-icon"></i></div></li></ul></li><li data-nav-id=ops2devops.tanzu.dk/6.misc/ class=dd-item><div><a href=ops2devops.tanzu.dk/6.misc/>6. MISC</a><i class="fa fa-circle-thin read-icon"></i></div></li></ul><section></section></aside><section class=page><div class=nav-select><center>Navigation :
<select onchange="location.href=this.value"><option value=ops2devops.tanzu.dk/1.connect/>
1. Connect</option><option value=ops2devops.tanzu.dk/2.git/>
2. Git</option><option value=ops2devops.tanzu.dk/3.docker/>
3. Docker</option><option value=ops2devops.tanzu.dk/4.k8s/>
4. Kubernetes</option><option value=ops2devops.tanzu.dk/4.k8s/1/>- 01 Setup Kubeconfig</option><option value=ops2devops.tanzu.dk/4.k8s/2/>- 02 Kubectl</option><option value=ops2devops.tanzu.dk/4.k8s/3/>- 03 Test connection</option><option value=ops2devops.tanzu.dk/4.k8s/4/>- 04 Create Namespace</option><option value=ops2devops.tanzu.dk/4.k8s/5/>- 05 Deployment.yml</option><option value=ops2devops.tanzu.dk/4.k8s/6/>- 06 Github Packages</option><option value=ops2devops.tanzu.dk/4.k8s/7/ selected>- 07 Deploy first K8S app</option><option value=ops2devops.tanzu.dk/4.k8s/8/>- 08 Enhance deployment.yaml</option><option value=ops2devops.tanzu.dk/4.k8s/9/>- 09 Verify deployments / Pods</option><option value=ops2devops.tanzu.dk/4.k8s/10/>- 10 Add service</option><option value=ops2devops.tanzu.dk/4.k8s/11/>- 11 Deploy with Service</option><option value=ops2devops.tanzu.dk/4.k8s/12/>- 12 Cleanup</option><option value=ops2devops.tanzu.dk/5.cicd/>
5. CI/CD</option><option value=ops2devops.tanzu.dk/6.misc/>
6. MISC</option></select></center></div><div><div class=searchbox><input data-search-input id=search-by type=text placeholder=Search...></div></div><h1>07 Deploy first K8S app</h1><ul><li>Change all places in <code>deployment.yml</code> from <code>studentx</code> to your student number.</li><li>Open your repository in <code>github.com</code> and click on <code>ops2devops/4-k8s-1</code> under <code>Packages</code>in the bottom right.</li><li>!!! If you can&rsquo;t see any packages, then it&rsquo;s probably because you forgot to commit and push your git changes, after each task. Get help from the teacher, or use this url for now <code>ghcr.io/tanzudk/ops2devops/4-k8s-1:master</code></li><li>copy the entire url after <code>docker pull</code></li><li>Replace the url after image, with your own in the <code>deployment.yml</code>file</li><li>This is the url for your package in your Github registry.</li><li>Save the file</li><li>Run <code>kubectl apply -f deployment.yml -n studentx</code></li><li>This deploys the application in your own namespace</li><li>Verify the application is deployed by running <code>kubectl get all -n studentx</code></li><li>Note we did not expose the app, to the outside work. That is for next Task.</li><li>Delete the application by running <code>kubectl delete -f deployment.yml -n studentx</code></li></ul><div class=chevrons><div id=navigation><a class="nav nav-prev" href=ops2devops.tanzu.dk/4.k8s/6/ title="06 Github Packages"><i class="fa fa-chevron-left"></i><label>06 Github Packages</label></a>
<a class="nav nav-next" href=ops2devops.tanzu.dk/4.k8s/8/ title="08 Enhance deployment.yaml" style=margin-right:0><label>08 Enhance deployment.yaml</label><i class="fa fa-chevron-right"></i></a></div></div></section></article><footer><div class=footline><div class=date><i class="fa fa-calendar"></i> Last update on 06/04/2022</div><div class=github-link><a href=https://github.com/vjeantet/hugo-theme-docdock/edit/master/exampleSite/content/4.K8S/7.md target=blank><i class="fa fa-code-fork"></i>
Improve this page</a></div></div><div><p>For info see <a href=https://tanzu.vmware.com>tanzu.vmware.com</a></p></div></footer><script src=/ops2devops.tanzu.dk/js/jquery-2.x.min.js></script>
<script type=text/javascript>var baseurl="ops2devops.tanzu.dk"</script><script src=/ops2devops.tanzu.dk/js/clipboard.min.js></script>
<script src=/ops2devops.tanzu.dk/js/featherlight.min.js></script>
<script type=text/javascript src=/ops2devops.tanzu.dk/js/lunr.min.js></script>
<script type=text/javascript src=/ops2devops.tanzu.dk/js/auto-complete.js></script>
<script type=text/javascript src=/ops2devops.tanzu.dk/js/search.js></script>
<script src=/ops2devops.tanzu.dk/theme-flex/script.js></script>
<script src=/ops2devops.tanzu.dk/js/scripts.min.js></script></body></html>